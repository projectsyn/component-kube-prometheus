parameters:
  syn_kube_prometheus:
    # Dependency resolution
    jsonnetfile_parameters:
      kube_prometheus_version: ${syn_kube_prometheus:_kube_prometheus_version:${syn_kube_prometheus:kubernetes_version}}
    kubernetes_version: 1.21

    # Map the Kubernetes version to the correct kube-prometheus version
    =_kube_prometheus_version:
      # renovate: branch=release-0.8
      "1.20": f9e5898bec9c06e829620a699cd6a30eaf90c27e
      # renovate: branch=release-0.9
      "1.21": c8db3c85db6e13b94726b7c5d630a6ebe7038cf9
      # renovate: branch=release-0.10
      "1.22": 42ea595d60265b803ad460a971a7186488f6be7e
      # renovate: branch=release-0.10
      "1.23": 42ea595d60265b803ad460a971a7186488f6be7e
      # renovate: branch=release-0.10
      "1.24": 42ea595d60265b803ad460a971a7186488f6be7e

    namespaces: {}

    addons: []

    base:
      common:
        namespace: syn-prometheus
      prometheus:
        enabled: false
        config: {}
        overrides: {}
      alertmanager:
        enabled: false
        config: {}
        overrides: {}
      grafana:
        enabled: false
        config: {}
        overrides: {}
      node_exporter:
        enabled: false
        config: {}
        overrides: {}
      blackbox_exporter:
        enabled: false
        config: {}
        overrides: {}
      kubernetes_control_plane:
        enabled: false
        config: {}
        overrides: {}
      prometheus_adapter:
        enabled: false
        config: {}
        overrides: {}
      kube_state_metrics:
        enabled: false
        config: {}
        overrides: {}

    prometheus_operator:
      enabled: true
      install_crds: true
      namespace: syn-prometheus-operator
      common: ${syn_kube_prometheus:base:common}
      config: {}
      params:
        namespace: ${syn_kube_prometheus:prometheus_operator:namespace}

    instances: {}
