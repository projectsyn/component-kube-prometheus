---
parameters:
  kapitan:
    dependencies:
      - type: https
        source: https://raw.githubusercontent.com/projectsyn/component-resource-locker/v2.0.1/lib/resource-locker.libjsonnet
        output_path: vendor/lib/resource-locker.libjsonnet

  resource_locker:
    namespace: syn-resource-locker

  prometheus:
    kubernetes_version: '1.22'
    instances:
      default-instance:
        prometheus:
          enabled: true
        alertmanager:
          enabled: true
        grafana:
          # Disabled for some speedup since we don't need to modify it for OCP yet
          enabled: false
        nodeExporter:
          enabled: true
        blackboxExporter:
          enabled: true
        kubernetesControlPlane:
          enabled: true
        prometheusAdapter:
          enabled: true
        kubeStateMetrics:
          enabled: true
        kubePrometheus:
          enabled: true

    addons:
      - openshift4

    namespaces:
      default-instance:
        annotations:
          openshift.io/node-selector: ""

    prometheusOperator:
      installCRDs: false
