parameters:
  syn_kube_prometheus:
    =_metadata:
      multi_instance: true
    namespace: ${_instance}

    # Dependency resolution
    jsonnetfile_parameters:
      kube_prometheus_version: ${syn_kube_prometheus:_kube_prometheus_version:${syn_kube_prometheus:kubernetes_version}}
    kubernetes_version: 1.21

    # Map the Kubernetes version to the correct kube-prometheus version
    =_kube_prometheus_version:
      # renovate: branch=release-0.8
      "1.20": f9e5898bec9c06e829620a699cd6a30eaf90c27e
      # renovate: branch=release-0.9
      "1.21": c8db3c85db6e13b94726b7c5d630a6ebe7038cf9
      # renovate: branch=release-0.10
      "1.22": 42ea595d60265b803ad460a971a7186488f6be7e

    =_common_labels:
      app.kubernetes.io/managed-by: commodore
      source: https://github.com/projectsyn/component-syn-kube-prometheus

    common: {}
    # Use case specific parameters. Overwrite in your inventory hierarchy
    prometheus_operator:
      enabled: false
      common: {}
      params: {}
    prometheus:
      enabled: false
      common: {}
      params: {}
    alertmanager:
      enabled: false
      common: {}
      params: {}
    grafana:
      enabled: false
      common: {}
      params: {}
    node_exporter:
      enabled: false
      common: {}
      params: {}
    blackbox_exporter:
      enabled: false
      common: {}
      params: {}
    kubernetes_control_plane:
      enabled: false
      common: {}
      params: {}
    prometheus_adapter:
      enabled: false
      common: {}
      params: {}
    kube_state_metrics:
      enabled: false
      common: {}
      params: {}
